<!DOCTYPE html>
<html>
<head>
<title>Texas Colleges Map</title>
<meta charset="utf-8">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<style>
  #map { height: 100vh; }
</style>
</head>
<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const map = L.map("map").setView([31.0, -99.0], 6);

L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
  attribution: "&copy; OpenStreetMap contributors"
}).addTo(map);

fetch("colleges.json")
  .then(res => res.json())
  .then(data => {
    data.forEach(college => {
      if (college.coords && college.coords[0] !== 0) {
        college.faculty.forEach(person => {
          const marker = L.marker(college.coords).addTo(map);
          marker.bindPopup(`
            <strong>${college.college}</strong><br>
            ${person.name}<br>
            <a href="mailto:${person.email}">${person.email}</a>
            ${person.profile ? `<br><a href="${person.profile}">Profile</a>` : ""}
          `);
        });
      }
    });
  })
  .catch(err => console.error(err));
</script>

</body>
</html>
